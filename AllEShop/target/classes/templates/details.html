<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://ultraq.net.nz/thymeleaf/layout"
      layout:decorator="layout/main.html">
<div layout:fragment="site_content">
    <div class="row">
        <div class="col-3">
            <ul class="list-group">
                <li class="list-group-item" style="background-color: #15890e;color: white"><a
                        th:text="#{label.categories}"></a>
                <li class="list-group-item"><a th:text="#{menu.allItems}" th:href="@{'/allItems'}"></a>
                    <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-cart4" fill="currentColor"
                         xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd"
                              d="M0 2.5A.5.5 0 0 1 .5 2H2a.5.5 0 0 1 .485.379L2.89 4H14.5a.5.5 0 0 1 .485.621l-1.5 6A.5.5 0 0 1 13 11H4a.5.5 0 0 1-.485-.379L1.61 3H.5a.5.5 0 0 1-.5-.5zM3.14 5l.5 2H5V5H3.14zM6 5v2h2V5H6zm3 0v2h2V5H9zm3 0v2h1.36l.5-2H12zm1.11 3H12v2h.61l.5-2zM11 8H9v2h2V8zM8 8H6v2h2V8zM5 8H3.89l.5 2H5V8zm0 5a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm-2 1a2 2 0 1 1 4 0 2 2 0 0 1-4 0zm9-1a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm-2 1a2 2 0 1 1 4 0 2 2 0 0 1-4 0z"/>
                    </svg>
                </li>
                <li class="list-group-item"><a th:href="@{'/searchItemsByCategory/Electronic'}"
                                               th:text="#{menu.electronics}"></a>
                    <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-lightning" fill="currentColor"
                         xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd"
                              d="M11.251.068a.5.5 0 0 1 .227.58L9.677 6.5H13a.5.5 0 0 1 .364.843l-8 8.5a.5.5 0 0 1-.842-.49L6.323 9.5H3a.5.5 0 0 1-.364-.843l8-8.5a.5.5 0 0 1 .615-.09zM4.157 8.5H7a.5.5 0 0 1 .478.647L6.11 13.59l5.732-6.09H9a.5.5 0 0 1-.478-.647L9.89 2.41 4.157 8.5z"/>
                    </svg>
                </li>
                <li class="list-group-item"><a th:text="#{menu.phones}"></a>
                    <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-phone" fill="currentColor"
                         xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd"
                              d="M11 1H5a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zM5 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H5z"/>
                        <path fill-rule="evenodd" d="M8 14a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"/>
                    </svg>
                </li>
                <li class="list-group-item"><a th:href="@{'/searchItemsByCategory/Laptop'}"
                                               th:text="#{menu.laptops}"></a>
                    <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-laptop" fill="currentColor"
                         xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd"
                              d="M13.5 3h-11a.5.5 0 0 0-.5.5V11h12V3.5a.5.5 0 0 0-.5-.5zm-11-1A1.5 1.5 0 0 0 1 3.5V12h14V3.5A1.5 1.5 0 0 0 13.5 2h-11z"/>
                        <path d="M0 12h16v.5a1.5 1.5 0 0 1-1.5 1.5h-13A1.5 1.5 0 0 1 0 12.5V12z"/>
                    </svg>
                </li>
                <li class="list-group-item"><a th:text="#{menu.watches}"></a>
                    <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-smartwatch" fill="currentColor"
                         xmlns="http://www.w3.org/2000/svg">
                        <path d="M14 5h.5a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.5.5H14V5z"/>
                        <path fill-rule="evenodd"
                              d="M8.5 4.5A.5.5 0 0 1 9 5v3.5a.5.5 0 0 1-.5.5H6a.5.5 0 0 1 0-1h2V5a.5.5 0 0 1 .5-.5z"/>
                        <path fill-rule="evenodd"
                              d="M4.5 2h7A2.5 2.5 0 0 1 14 4.5v7a2.5 2.5 0 0 1-2.5 2.5h-7A2.5 2.5 0 0 1 2 11.5v-7A2.5 2.5 0 0 1 4.5 2zm0 1A1.5 1.5 0 0 0 3 4.5v7A1.5 1.5 0 0 0 4.5 13h7a1.5 1.5 0 0 0 1.5-1.5v-7A1.5 1.5 0 0 0 11.5 3h-7z"/>
                        <path d="M4 2.05v-.383C4 .747 4.746 0 5.667 0h4.666C11.253 0 12 .746 12 1.667v.383a2.512 2.512 0 0 0-.5-.05h-7c-.171 0-.338.017-.5.05zm0 11.9c.162.033.329.05.5.05h7c.171 0 .338-.017.5-.05v.383c0 .92-.746 1.667-1.667 1.667H5.667C4.747 16 4 15.254 4 14.333v-.383z"/>
                    </svg>
                </li>
                <li class="list-group-item"><a th:href="@{'/searchItemsByCategory/TV'}"
                                               th:text="#{menu.television}"></a>
                    <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-tv" fill="currentColor"
                         xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd"
                              d="M2.5 13.5A.5.5 0 0 1 3 13h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zM13.991 3H2c-.325 0-.502.078-.602.145a.758.758 0 0 0-.254.302A1.46 1.46 0 0 0 1 4.01V10c0 .325.078.502.145.602.07.105.17.188.302.254a1.464 1.464 0 0 0 .538.143L2.01 11H14c.325 0 .502-.078.602-.145a.758.758 0 0 0 .254-.302 1.464 1.464 0 0 0 .143-.538L15 9.99V4c0-.325-.078-.502-.145-.602a.757.757 0 0 0-.302-.254A1.46 1.46 0 0 0 13.99 3zM14 2H2C0 2 0 4 0 4v6c0 2 2 2 2 2h12c2 0 2-2 2-2V4c0-2-2-2-2-2z"/>
                    </svg>
                </li>
                <li class="list-group-item"><a th:text="#{menu.consoles}"></a>
                    <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-joystick" fill="currentColor"
                         xmlns="http://www.w3.org/2000/svg">
                        <path d="M7.106 15.553L.553 12.276A1 1 0 0 1 0 11.382V9.471a1 1 0 0 1 .606-.89L6 6.269v1.088L1 9.5l5.658 2.83a3 3 0 0 0 2.684 0L15 9.5l-5-2.143V6.27l5.394 2.312a1 1 0 0 1 .606.89v1.911a1 1 0 0 1-.553.894l-6.553 3.277a2 2 0 0 1-1.788 0z"/>
                        <path fill-rule="evenodd" d="M7.5 9.5v-6h1v6h-1z"/>
                        <path d="M10 9.75c0 .414-.895.75-2 .75s-2-.336-2-.75S6.895 9 8 9s2 .336 2 .75zM10 2a2 2 0 1 1-4 0 2 2 0 0 1 4 0z"/>
                    </svg>
                </li>
                <li class="list-group-item"><a th:text="#{menu.others}"></a>
                    <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-question-octagon" fill="currentColor"
                         xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd"
                              d="M4.54.146A.5.5 0 0 1 4.893 0h6.214a.5.5 0 0 1 .353.146l4.394 4.394a.5.5 0 0 1 .146.353v6.214a.5.5 0 0 1-.146.353l-4.394 4.394a.5.5 0 0 1-.353.146H4.893a.5.5 0 0 1-.353-.146L.146 11.46A.5.5 0 0 1 0 11.107V4.893a.5.5 0 0 1 .146-.353L4.54.146zM5.1 1L1 5.1v5.8L5.1 15h5.8l4.1-4.1V5.1L10.9 1H5.1z"/>
                        <path d="M5.255 5.786a.237.237 0 0 0 .241.247h.825c.138 0 .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0 1.314.343 1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.003.217a.25.25 0 0 0 .25.246h.811a.25.25 0 0 0 .25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267 0-2.655.59-2.75 2.286zm1.557 5.763c0 .533.425.927 1.01.927.609 0 1.028-.394 1.028-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94z"/>
                    </svg>
                </li>
            </ul>
            <br>
            <ul class="list-group">
                <li class="list-group-item" style="background-color: #15890e;color: white"><a
                        th:text="#{label.brands}"></a>
                <li class="list-group-item"><a th:text="Apple"></a>
                <li class="list-group-item"><a th:text="Samsung"></a>
                <li class="list-group-item"><a th:text="LG"></a>
                <li class="list-group-item"><a th:text="BOSCH"></a>
                <li class="list-group-item"><a th:text="ZEPTER"></a>
                <li class="list-group-item"><a th:text="XIAOMI"></a>
                <li class="list-group-item"><a th:text="NOKIA"></a>
                <li class="list-group-item"><a th:text="#{menu.others}"></a>
            </ul>
            <br>
            <ul class="list-group">
                <li class="list-group-item" style="background-color: #15890e;color: white"><a
                        th:text="#{label.payments}"></a></li>
                <div class="container">
                    <div class="row">
                        <div class="col">
                            <img class="img-fluid"
                                 src="https://www.apple.com/ru/apple-pay/images/overview/og_image.png?202010070423">
                        </div>
                        <div class="col">
                            <img class="img-fluid"
                                 src="https://investim.guru/sites/default/files/styles/coverbig/public/images/cover/58-130.png?itok=3V69RsuB">
                        </div>
                        <div class="col">
                            <img class="img-fluid"
                                 src="https://www.ferra.ru/thumb/500x0/filters:quality(75)/imgs/2018/11/26/17/2627023/03045533edd3fa827730d3483e5f960d97186f47.jpg">
                        </div>
                    </div>
                    <div class="row">
                        <div class="col">
                            <img class="img-fluid"
                                 src="https://www.mastercard.kz/content/dam/mccom/global/logos/logo-mastercard-mobile.svg">
                        </div>
                        <div class="col">
                            <img class="img-fluid"
                                 src="https://www.mastercard.kz/content/dam/mccom/global/logos/logo-mastercard-mobile.svg">
                        </div>
                        <div class="col">
                            <img class="img-fluid"
                                 src="https://www.mastercard.kz/content/dam/mccom/global/logos/logo-mastercard-mobile.svg">
                        </div>
                    </div>
                </div>
            </ul>
        </div>
        <div class="col-9">
            <form method="get" th:action="@{'/searchItems'}">
                <div class="row">
                    <div class="col-sm-2">
                        <label th:text="#{label.name}"></label>
                        <input type="text" name="search_name" class="form-control"
                               placeholder="Enter to search...">
                    </div>
                    <div class="col-sm-2">
                        <label th:text="#{label.brand}"></label>
                        <select class="form-control" name="search_brand_name">
                            <option value="">--</option>
                            <option th:each="brand:${brands}" th:text="${brand.getName()}"
                                    th:value="${brand.getName()}"></option>
                        </select>
                    </div>
                    <div class="col-sm-2">
                        <label th:text="#{label.priceFrom}"></label>
                        <input type="number" name="search_price_from"
                               class="form-control">
                    </div>
                    <div class="col-sm-2">
                        <label th:text="#{label.priceTo}"></label>
                        <input type="number" name="search_price_to" class="form-control">
                    </div>

                    <div class="col-sm-4" style="float: right">
                        <label style="color: white">AAAAAAAAAAAAAAAAAAA</label>
                        <button class="form-control btn btn-outline-success"
                                th:text="#{button.Search}"></button>
                    </div>
                </div>
            </form>
            <div class="card-deck">
                <div class="card">
                    <img th:src="${item.getSmallPicURL()}"
                         class="card-img-top" alt="...">
                    <div class="card-body">
                        <h5 class="card-title" th:title="${item.getName()}"></h5>
                        <h6 class="card-subtitle mb-2 text-muted" th:text="${item.getPrice()}"></h6>
                        <p class="card-text" th:text="${item.getDescription()}"></p>
                        <p class="card-text"><a th:text="#{label.brand}"></a> : <a
                                th:href="@{'/searchItemsByBrand/' + ${item.getBrand().getName()}}"
                                th:text="${item.getBrand().getName()}"></a>,<a href="#"
                                                                               th:text="${item.getBrand().getCountry().getCode()}"></a>
                        </p>
                        <h5 class="card-text text-center">Screenshots</h5>
                    </div>
                    <div class="card-group">
                        <div th:if="${pictures!=null}" th:each="picture:${pictures}" class="card"
                             style="float: left">
                            <img th:src="@{'/viewPictureOfItem/' + ${picture.getUrl()}}" style="width: 60%">
                        </div>
                    </div>
                </div>
            </div>
            <div class="card-footer">
                        <span class="fa fa-star checked"
                              th:each="star:${#numbers.sequence(1,item.getStars(),1)}" style="color: orange">
                        </span>
                <span class="fa fa-star" th:each="star:${#numbers.sequence(item.getStars(),4,1)}">
                        </span>
            </div>
            <br>
            <form method="post" th:action="@{'/addToBasket'}">
                <input type="hidden" name="item_id" th:value="${item.getId()}">
                <button class="btn btn-success">
                    <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-basket" fill="currentColor"
                         xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd"
                              d="M5.757 1.071a.5.5 0 0 1 .172.686L3.383 6h9.234L10.07 1.757a.5.5 0 1 1 .858-.514L13.783 6H15a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1v4.5a2.5 2.5 0 0 1-2.5 2.5h-9A2.5 2.5 0 0 1 1 13.5V9a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h1.217L5.07 1.243a.5.5 0 0 1 .686-.172zM2 9v4.5A1.5 1.5 0 0 0 3.5 15h9a1.5 1.5 0 0 0 1.5-1.5V9H2zM1 7v1h14V7H1zm3 3a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-1 0v-3A.5.5 0 0 1 4 10zm2 0a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-1 0v-3A.5.5 0 0 1 6 10zm2 0a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-1 0v-3A.5.5 0 0 1 8 10zm2 0a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-1 0v-3a.5.5 0 0 1 .5-.5zm2 0a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-1 0v-3a.5.5 0 0 1 .5-.5z"/>
                    </svg>
                    <a type="submit" th:text="#{button.addToBasket}"></a></button>
            </form>
            <br>
            <form th:if="${currentUser!=null}" method="post" th:action="@{'/addComment'}">
                <input type="hidden" name="item_id" th:value="${item.getId()}">
                <input type="hidden" name="author_id" th:value="${currentUser.getId()}">
                <div class="mb-3">
                    <textarea class="form-control" name="comment" id="exampleFormControlTextarea1" rows="3"></textarea>
                </div>
                <button class="btn btn-info" style="float: right">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                         class="bi bi-chat"
                         viewBox="0 0 16 16">
                        <path fill-rule="evenodd"
                              d="M2.678 11.894a1 1 0 0 1 .287.801 10.97 10.97 0 0 1-.398 2c1.395-.323 2.247-.697 2.634-.893a1 1 0 0 1 .71-.074A8.06 8.06 0 0 0 8 14c3.996 0 7-2.807 7-6 0-3.192-3.004-6-7-6S1 4.808 1 8c0 1.468.617 2.83 1.678 3.894zm-.493 3.905a21.682 21.682 0 0 1-.713.129c-.2.032-.352-.176-.273-.362a9.68 9.68 0 0 0 .244-.637l.003-.01c.248-.72.45-1.548.524-2.319C.743 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7-3.582 7-8 7a9.06 9.06 0 0 1-2.347-.306c-.52.263-1.639.742-3.468 1.105z"/>
                    </svg>
                    <a type="submit" th:text="#{button.addComment}"></a></button>
            </form>
            <br>
            <br>
            <ul class="list-group" th:if="${comments!=null}">
                <li class="list-group-item" th:if="${comments!=null}" th:each="comment:${comments}">
                    <div class="row-fluid">
                        <h5 style="float: left" th:text="${comment.getAuthor().getFull_name()}"></h5>
                        <p style="float: right" th:text="${comment.getAddedDate()}"></p>
                    </div>
                    <br>
                    <br>
                    <div class="row-fluid">
                        <h6 style="float: left" th:text="${comment.getComment()}"></h6>
                        <div style="float: right" th:if="${currentUser!=null && comment.getAuthor().getId()==currentUser.getId()}">
                            <button class="btn btn-dark" type="button" data-toggle="modal"
                                    data-target="#editCommentModal">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                     class="bi bi-list" viewBox="0 0 16 16">
                                    <path fill-rule="evenodd"
                                          d="M2.5 11.5A.5.5 0 0 1 3 11h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4A.5.5 0 0 1 3 7h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4A.5.5 0 0 1 3 3h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"/>
                                </svg></button>
                            <div class="modal fade" id="editCommentModal" tabindex="-1" role="dialog"
                                 aria-labelledby="editCommentModalLabel" aria-hidden="true">
                                <div class="modal-dialog">
                                    <div class="modal-content">
                                        <form method="POST" th:action="@{'/editComment'}" id="add_form2">
                                            <div class="modal-header">
                                                <input type="hidden" name="item_id" th:value="${item.getId()}">
                                                <input type="hidden" name="comment_id" th:value="${comment.getId()}">
                                                <h5 class="modal-title" id="editCommentModalLabel">Edit Comment</h5>
                                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                    <span aria-hidden="true">&times;</span>
                                                </button>
                                            </div>
                                            <div class="modal-body">
                                                <div class="form-group">
                                                    <label for="comment">Comment text:</label>
                                                    <textarea class="form-control" name="comment" id="comment" rows="3" th:text="${comment.getComment()}"></textarea>
                                                </div>
                                            </div>
                                            <div class="modal-footer">
                                                <button type="submit" class="btn btn-dark">Save comment</button>
                                                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close
                                                </button>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <form style="float: right" th:if="${currentUser!=null && comment.getAuthor().getId()==currentUser.getId()}"
                              th:action="${'/deleteComment'}" method="post">
                            <input type="hidden" name="comment_id" th:value="${comment.getId()}">
                            <input type="hidden" name="item_id" th:value="${item.getId()}">
                            <button class="btn btn-danger" type="submit">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash-fill" viewBox="0 0 16 16">
                                    <path fill-rule="evenodd" d="M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5a.5.5 0 0 0-1 0v7a.5.5 0 0 0 1 0v-7z"/>
                                </svg></button>
                        </form>
                    </div>
                </li>
            </ul>
            <br>
            <div class="row mt-5">
                <div class="col-6 offset-3">
                    <table class="table table-striped">
                        <tbody>
                        <tr th:each="category:${categories}">
                            <form method="post">
                                <input type="hidden">
                                <input type="hidden">
                                <td th:text="${category.getName()}"></td>
                                <!--                                <td width="10%">-->

                                <!--                                    <button class="btn btn-md"-->
                                <!--                                            th:classappend="${item.getCategories()!=null && item.getCategories().contains(category)} ? btn-danger:btn-success"-->
                                <!--                                        th:text="${item.getCategories()!=null && item.getCategories().contains(category)} ? '-' : '+'"></button>-->
                                <!--                                </td>-->
                            </form>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
</html>